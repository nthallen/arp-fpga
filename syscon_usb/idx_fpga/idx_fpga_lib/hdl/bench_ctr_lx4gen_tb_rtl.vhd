--
-- VHDL Test Bench idx_fpga_lib.bench_ctr_lx4gen.ctr_lx4gen_tester
--
-- Created:
--          by - nort.UNKNOWN (NORT-NBX200T)
--          at - 11:45:31 10/ 1/2010
--
-- Generated by Mentor Graphics' HDL Designer(TM) 2009.2 (Build 10)
--
LIBRARY ieee;
USE ieee.std_logic_1164.all;
USE ieee.std_logic_arith.all;


ENTITY bench_ctr_lx4gen IS
   GENERIC (
      PRE_DIVISOR : unsigned (19 DOWNTO 0) := X"00008"
   );
END bench_ctr_lx4gen;


LIBRARY idx_fpga_lib;
USE idx_fpga_lib.ALL;


ARCHITECTURE rtl OF bench_ctr_lx4gen IS

   -- Architecture declarations

   -- Internal signal declarations
   SIGNAL F8M     : std_ulogic;
   SIGNAL Divisor : unsigned(3 DOWNTO 0);
   SIGNAL rst     : std_ulogic;
   SIGNAL Lx4En   : std_ulogic;
   SIGNAL Done    : std_ulogic;


   -- Component declarations
   COMPONENT ctr_lx4gen
      GENERIC (
         PRE_DIVISOR : unsigned (19 DOWNTO 0) := PRE_DIVISOR
      );
      PORT (
         F8M     : IN     std_ulogic;
         Divisor : IN     unsigned(3 DOWNTO 0);
         rst     : IN     std_ulogic;
         Lx4En   : OUT    std_ulogic
      );
   END COMPONENT;

   -- embedded configurations
   -- pragma synthesis_off
   FOR DUT_ctr_lx4gen : ctr_lx4gen USE ENTITY idx_fpga_lib.ctr_lx4gen;
   -- pragma synthesis_on

BEGIN

   DUT_ctr_lx4gen : ctr_lx4gen
      GENERIC MAP (
         PRE_DIVISOR => PRE_DIVISOR
      )
      PORT MAP (
         F8M     => F8M,
         Divisor => Divisor,
         rst     => rst,
         Lx4En   => Lx4En
      );

    clock : Process
    Begin
      F8M <= '0';
      -- pragma synthesis_off
      wait for 40 ns;
      while Done = '0' loop
        F8M <= '0';
        wait for 62.5 ns;
        F8M <= '1';
        wait for 62.5 ns;
      end loop;
      wait;
      -- pragma synthesis_on
    End Process;
    
    test_proc : Process
    Begin
      Done <= '0';
      Divisor <= X"1";
      rst <= '1';
      -- pragma synthesis_off
      wait for 300 ns;
      rst <= '0';
      wait for 4000 ns;
      Done <= '1';
      wait;
      -- pragma synthesis_on
    End Process;


END rtl;