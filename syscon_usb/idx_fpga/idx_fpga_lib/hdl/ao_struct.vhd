-- VHDL Entity idx_fpga_lib.ao.symbol
--
-- Created:
--          by - nort.UNKNOWN (NORT-NBX200T)
--          at - 11:41:16 01/12/2012
--
-- Generated by Mentor Graphics' HDL Designer(TM) 2010.3 (Build 21)
--
LIBRARY ieee;
USE ieee.std_logic_1164.all;
USE ieee.std_logic_arith.all;

ENTITY ao IS
   GENERIC( 
      N_AO_CHIPS : natural range 15 downto 1 := 2
   );
   PORT( 
      Addr      : IN     std_logic_vector (15 DOWNTO 0);
      ExpRd     : IN     std_ulogic;
      ExpWr     : IN     std_ulogic;
      F66M      : IN     std_logic;
      F8M       : IN     std_ulogic;
      WData     : IN     std_logic_vector (15 DOWNTO 0);
      rst       : IN     std_ulogic;
      DA_CLR_B  : OUT    std_logic;
      DA_CS_B   : OUT    std_logic_vector (N_AO_CHIPS-1 DOWNTO 0);
      DA_LDAC_B : OUT    std_logic;
      DA_SCK    : OUT    std_logic;
      DA_SDI    : OUT    std_logic;
      ExpAck    : OUT    std_ulogic;
      RData     : OUT    std_logic_vector (15 DOWNTO 0)
   );

-- Declarations

END ao ;

--
-- VHDL Architecture idx_fpga_lib.ao.struct
--
-- Created:
--          by - nort.UNKNOWN (NORT-NBX200T)
--          at - 11:41:16 01/12/2012
--
-- Generated by Mentor Graphics' HDL Designer(TM) 2010.3 (Build 21)
--
--  Copyright 2011 President and Fellows of Harvard College
--
LIBRARY ieee;
USE ieee.std_logic_1164.all;
USE ieee.std_logic_arith.all;
USE ieee.std_logic_unsigned.all;

LIBRARY idx_fpga_lib;

ARCHITECTURE struct OF ao IS

   -- Architecture declarations

   -- Internal signal declarations
   SIGNAL BdEn : std_ulogic;
   SIGNAL RdEn : std_ulogic;
   SIGNAL WrEn : std_ulogic;


   -- Component Declarations
   COMPONENT ao_addr
   GENERIC (
      BASE_ADDR  : std_logic_vector(15 downto 0) := X"0400";
      AO_INCR    : std_logic_vector(11 downto 0) := X"020";
      N_AO_CHIPS : natural range 15 downto 2     := 2
   );
   PORT (
      Addr : IN     std_logic_vector (15 DOWNTO 0);
      BdEn : OUT    std_ulogic 
   );
   END COMPONENT;
   COMPONENT ao_ram
   GENERIC (
      N_AO_CHIPS : natural range 15 downto 2 := 2
   );
   PORT (
      F8M   : IN     std_ulogic ;
      RdEn  : IN     std_ulogic ;
      WrEn  : IN     std_ulogic ;
      rst   : IN     std_ulogic ;
      WData : IN     std_logic_vector (15 DOWNTO 0);
      RData : OUT    std_logic_vector (15 DOWNTO 0);
      Addr  : IN     std_logic_vector (15 DOWNTO 0)
   );
   END COMPONENT;
   COMPONENT ao_sm
   GENERIC (
      N_AO_CHIPS : natural range 15 downto 1 := 2
   );
   PORT (
      Addr      : IN     std_logic_vector (15 DOWNTO 0);
      F66M      : IN     std_logic ;
      WData     : IN     std_logic_vector (15 DOWNTO 0);
      WrEn      : IN     std_ulogic ;
      rst       : IN     std_ulogic ;
      DA_CLR_B  : OUT    std_logic ;
      DA_CS_B   : OUT    std_logic_vector (N_AO_CHIPS-1 DOWNTO 0);
      DA_LDAC_B : OUT    std_logic ;
      DA_SCK    : OUT    std_logic ;
      DA_SDI    : OUT    std_logic 
   );
   END COMPONENT;
   COMPONENT subbus_io
   PORT (
      BdEn   : IN     std_ulogic;
      ExpRd  : IN     std_ulogic;
      ExpWr  : IN     std_ulogic;
      F8M    : IN     std_ulogic;
      ExpAck : OUT    std_ulogic;
      RdEn   : OUT    std_ulogic;
      WrEn   : OUT    std_ulogic
   );
   END COMPONENT;

   -- Optional embedded configurations
   -- pragma synthesis_off
   FOR ALL : ao_addr USE ENTITY idx_fpga_lib.ao_addr;
   FOR ALL : ao_ram USE ENTITY idx_fpga_lib.ao_ram;
   FOR ALL : ao_sm USE ENTITY idx_fpga_lib.ao_sm;
   FOR ALL : subbus_io USE ENTITY idx_fpga_lib.subbus_io;
   -- pragma synthesis_on


BEGIN

   -- Instance port mappings.
   Inst_ao_addr : ao_addr
      GENERIC MAP (
         BASE_ADDR  => X"0400",
         AO_INCR    => X"020",
         N_AO_CHIPS => N_AO_CHIPS
      )
      PORT MAP (
         Addr => Addr,
         BdEn => BdEn
      );
   Inst_ao_ram : ao_ram
      GENERIC MAP (
         N_AO_CHIPS => N_AO_CHIPS
      )
      PORT MAP (
         F8M   => F8M,
         RdEn  => RdEn,
         WrEn  => WrEn,
         rst   => rst,
         WData => WData,
         RData => RData,
         Addr  => Addr
      );
   Inst_ao_sm : ao_sm
      GENERIC MAP (
         N_AO_CHIPS => N_AO_CHIPS
      )
      PORT MAP (
         Addr      => Addr,
         F66M      => F66M,
         WData     => WData,
         WrEn      => WrEn,
         rst       => rst,
         DA_CLR_B  => DA_CLR_B,
         DA_CS_B   => DA_CS_B,
         DA_LDAC_B => DA_LDAC_B,
         DA_SCK    => DA_SCK,
         DA_SDI    => DA_SDI
      );
   ao_IO : subbus_io
      PORT MAP (
         ExpRd  => ExpRd,
         ExpWr  => ExpWr,
         ExpAck => ExpAck,
         F8M    => F8M,
         RdEn   => RdEn,
         WrEn   => WrEn,
         BdEn   => BdEn
      );

END struct;
